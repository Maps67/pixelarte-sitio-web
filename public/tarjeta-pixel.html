<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixelArte Studio - Dominancia de Mercado para Prácticas Médicas</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <!-- Meta tags para SEO y redes sociales (Actualizadas) -->
    <meta property="og:title" content="PixelArte Studio - Dominancia de Mercado para Prácticas Médicas">
    <meta property="og:description" content="Tarjeta Digital. Convertimos su reputación clínica en dominancia de mercado.">
    <meta property="og:image" content="https://i.postimg.cc/XJRRM5hp/Logo.jpg">
    <meta property="og:url" content="https://www.pixelartestudio.art/tarjeta-pixel.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.pixelartestudio.art/tarjeta-pixel.html">
    <meta name="twitter:title" content="PixelArte Studio - Dominancia de Mercado para Prácticas Médicas">
    <meta name="twitter:description" content="Tarjeta Digital. Convertimos su reputación clínica en dominancia de mercado.">
    <meta name="twitter:image" content="https://i.postimg.cc/XJRRM5hp/Logo.jpg">

    <!-- Dependencias externas -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* Estilos personalizados para la identidad de PixelArte */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1e293b; /* slate-800 */
        }
        .btn-premium {
            background-image: linear-gradient(to right, #4f46e5, #6366f1);
            color: white;
            font-weight: 600;
            border-radius: 0.75rem;
            padding: 0.8rem 1.5rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px 0 rgba(79, 70, 229, 0.35);
        }
        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px 0 rgba(79, 70, 229, 0.45);
        }
        .icon-card {
            background-color: #334155; /* slate-700 */
            border: 1px solid #475569; /* slate-600 */
            color: #cbd5e1; /* slate-300 */
            border-radius: 1.5rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .icon-card:hover, .icon-card:focus-visible {
            transform: translateY(-5px);
            background-color: #475569; /* slate-600 */
            color: white;
            border-color: #4f46e5;
            outline: none; /* Mejorar el focus-visible si se desea */
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.75);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.is-visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: #334155; /* slate-700 */
            color: #cbd5e1; /* slate-300 */
            border-radius: 1.5rem;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .modal-overlay.is-visible .modal-content {
            transform: scale(1);
        }
        .lang-switcher button.active {
            font-weight: 800;
            color: white;
            background-color: #4f46e5;
        }
    </style>
</head>
<body class="p-4 sm:p-6">

    <main class="w-full max-w-lg mx-auto bg-slate-800 rounded-2xl shadow-2xl overflow-hidden my-8 relative border border-slate-700">
        
        <div class="absolute top-6 left-6 z-10">
            <img src="favicon-96x96.png" alt="Logo PixelArte Studio" class="h-12 w-auto">
        </div>
        
        <div class="absolute top-6 right-6 z-10 bg-slate-700/50 backdrop-blur-md p-1 rounded-full text-xs font-semibold text-slate-300 lang-switcher">
            <button id="lang-es" class="px-3 py-1 rounded-full active">ES</button>
            <button id="lang-en" class="px-3 py-1 rounded-full">EN</button>
        </div>

        <div class="p-8 pt-24 text-center">
            <img src="profesionales.png" alt="Retrato profesional del equipo de PixelArte Studio" class="w-32 h-32 rounded-full mx-auto mb-4 ring-4 ring-offset-4 ring-offset-slate-800 ring-indigo-500 object-cover">
            <h1 class="text-4xl font-extrabold text-white" data-lang="studioName">PixelArte Studio</h1>
            <!-- Contenido Actualizado -->
            <p class="text-lg text-indigo-400 mt-2 font-medium" data-lang="studioSlogan">Dominancia de Mercado para Prácticas Médicas</p>
            <p class="text-sm text-slate-400 mt-2 max-w-xs mx-auto" data-lang="studioDesc">Convertimos su reputación clínica en dominancia de mercado.</p>
            <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-3">
                <a href="tel:+523347211199" class="btn-premium"><i class="fas fa-phone mr-2"></i><span data-lang="callBtn">Llamar</span></a>
                <a href="https://wa.me/523347211199" target="_blank" class="btn-premium" style="background-image: linear-gradient(to right, #16a34a, #22c55e); box-shadow: 0 4px 15px 0 rgba(22, 163, 74, 0.35);"><i class="fab fa-whatsapp mr-2"></i><span data-lang="whatsappBtn">WhatsApp</span></a>
                <a href="mailto:contacto.pixelarte.studio@gmail.com" class="btn-premium"><i class="fas fa-envelope mr-2"></i><span data-lang="emailBtn">Email</span></a>
            </div>
        </div>

        <div class="p-8 bg-slate-700/50">
            <div class="grid grid-cols-3 gap-4">
                <button class="icon-card" data-modal="modal-servicios">
                    <svg class="w-10 h-10 mb-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <defs><linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#4f46e5"/><stop offset="50%" style="stop-color:#a855f7"/><stop offset="100%" style="stop-color:#14b8a6"/></linearGradient></defs>
                        <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="url(#grad1)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 17l10 5 10-5" stroke="url(#grad1)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 12l10 5 10-5" stroke="url(#grad1)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="text-xs font-semibold" data-lang="servicesIcon">Servicios</p>
                </button>
                <button class="icon-card" data-modal="modal-portafolio">
                    <svg class="w-10 h-10 mb-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <defs><linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#4f46e5"/><stop offset="50%" style="stop-color:#a855f7"/><stop offset="100%" style="stop-color:#14b8a6"/></linearGradient></defs>
                        <rect x="3" y="3" width="18" height="18" rx="2" stroke="url(#grad2)" stroke-width="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5" stroke="url(#grad2)" stroke-width="2"/>
                        <path d="M21 15l-5-5L5 21" stroke="url(#grad2)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="text-xs font-semibold" data-lang="portfolioIcon">Casos de Éxito</p>
                </button>
                <button class="icon-card" data-modal="modal-proceso">
                    <svg class="w-10 h-10 mb-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <defs><linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#4f46e5"/><stop offset="50%" style="stop-color:#a855f7"/><stop offset="100%" style="stop-color:#14b8a6"/></linearGradient></defs>
                        <path d="M6 3v12" stroke="url(#grad3)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="18" cy="6" r="3" stroke="url(#grad3)" stroke-width="2"/>
                        <circle cx="6" cy="18" r="3" stroke="url(#grad3)" stroke-width="2"/>
                        <path d="M18 9a9 9 0 0 1-9 9" stroke="url(#grad3)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="text-xs font-semibold" data-lang="processIcon">Nuestro Sistema</p>
                </button>
                <button class="icon-card col-span-2" data-modal="modal-contacto">
                    <svg class="w-10 h-10 mb-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <defs><linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#4f46e5"/><stop offset="50%" style="stop-color:#a855f7"/><stop offset="100%" style="stop-color:#14b8a6"/></linearGradient></defs>
                        <path d="M22 2L11 13" stroke="url(#grad4)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="url(#grad4)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="text-xs font-semibold" data-lang="contactIcon">Inicia tu Proyecto</p>
                </button>
                <a id="saveContact" href="#" class="icon-card">
                    <svg class="w-10 h-10 mb-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                       <defs><linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#4f46e5"/><stop offset="50%" style="stop-color:#a855f7"/><stop offset="100%" style="stop-color:#14b8a6"/></linearGradient></defs>
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="url(#grad5)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <polyline points="7 10 12 15 17 10" stroke="url(#grad5)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="12" y1="15" x2="12" y2="3" stroke="url(#grad5)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="text-xs font-semibold" data-lang="saveIcon">Guardar</p>
                </a>
            </div>
        </div>

        <footer class="bg-slate-700 p-8 text-center">
            <h2 class="text-2xl font-bold text-white" data-lang="qrTitle">Comparte mi Tarjeta</h2>
            <p class="text-slate-300 mt-2 mb-4" data-lang="qrText">Escanea el QR para guardar o compartir mi perfil digital.</p>
            <div class="flex justify-center">
                 <img src="qr-pixel.png" alt="Código QR de contacto" class="rounded-lg w-40 h-40">
            </div>
        </footer>
    </main>

    <!-- Modales -->
    <div id="modal-servicios" class="modal-overlay">
        <div class="modal-content">
            <!-- Contenido Actualizado -->
            <h2 class="text-2xl font-bold text-white mb-4" data-lang="servicesModalTitle">Nuestro Sistema de Dominancia</h2>
            <div class="space-y-4 text-slate-300">
                <p data-lang="servicesModalDesc">Aplicamos un sistema probado para prácticas médicas:</p>
                <ul class="list-disc list-inside space-y-2">
                    <li><a href="https://www.pixelartestudio.art/" target="_blank" class="text-indigo-400 hover:underline"><strong data-lang="service1Title">Sistema de Dominancia de Mercado:</strong> <span data-lang="service1Desc">Convertimos su reputación en autoridad digital.</span></a></li>
                    <li><a href="https://www.pixelartestudio.art/" target="_blank" class="text-indigo-400 hover:underline"><strong data-lang="service2Title">Optimización de Flujo de Pacientes:</strong> <span data-lang="service2Desc">Sistemas integrados que atraen y retienen pacientes.</span></a></li>
                    <li><a href="https://www.pixelartestudio.art/" target="_blank" class="text-indigo-400 hover:underline"><strong data-lang="service3Title">Gestión de Reputación Clínica:</strong> <span data-lang="service3Desc">Reforzamos la confianza y las señales de autoridad online.</span></a></li>
                </ul>
            </div>
            <button class="close-modal mt-6 bg-slate-600 text-slate-300 font-semibold py-2 px-4 rounded-lg w-full" data-lang="closeBtn">Cerrar</button>
        </div>
    </div>
    
    <div id="modal-portafolio" class="modal-overlay">
        <div class="modal-content">
            <h2 class="text-2xl font-bold text-white mb-4" data-lang="portfolioModalTitle">Casos de Éxito</h2>
            <div class="space-y-4">
                <!-- Contenido Actualizado: Se eliminó "Constructora XYZ" -->
                <a href="https://drcarlosdiaza.com/" target="_blank" class="block bg-slate-600 p-4 rounded-lg hover:bg-slate-500 transition-colors">
                    <p class="font-bold text-white" data-lang="portfolio1Title">Dr. Carlos Díaz Avelar</p>
                    <p class="text-sm text-slate-300" data-lang="portfolio1Desc">Tarjeta Digital para profesional de la salud con sistema de citas.</p>
                </a>
            </div>
            <button class="close-modal mt-6 bg-slate-500 text-slate-300 font-semibold py-2 px-4 rounded-lg w-full" data-lang="closeBtn">Cerrar</button>
        </div>
    </div>

    <div id="modal-proceso" class="modal-overlay">
        <div class="modal-content">
             <!-- Contenido Actualizado -->
            <h2 class="text-2xl font-bold text-white mb-4" data-lang="processModalTitle">Nuestro Sistema</h2>
             <ol class="relative border-l border-slate-500 space-y-6 pl-4">
                <li>
                    <div class="absolute w-3 h-3 bg-indigo-500 rounded-full mt-1.5 -left-1.5 border border-slate-700"></div>
                    <h3 class="font-semibold text-white" data-lang="processStep1">1. Sesión Estratégica</h3>
                    <p class="text-sm text-slate-400" data-lang="processDesc1">Analizamos su práctica y definimos objetivos de dominancia.</p>
                </li>
                <li>
                    <div class="absolute w-3 h-3 bg-indigo-500 rounded-full mt-1.5 -left-1.5 border border-slate-700"></div>
                    <h3 class="font-semibold text-white" data-lang="processStep2">2. Análisis de Reputación</h3>
                    <p class="text-sm text-slate-400" data-lang="processDesc2">Evaluamos su huella digital y la de sus competidores.</p>
                </li>
                <li>
                    <div class="absolute w-3 h-3 bg-indigo-500 rounded-full mt-1.5 -left-1.5 border border-slate-700"></div>
                    <h3 class="font-semibold text-white" data-lang="processStep3">3. Implementación del Sistema</h3>
                    <p class="text-sm text-slate-400" data-lang="processDesc3">Desplegamos los activos digitales y el flujo de pacientes.</p>
                </li>
                 <li>
                    <div class="absolute w-3 h-3 bg-indigo-500 rounded-full mt-1.5 -left-1.5 border border-slate-700"></div>
                    <h3 class="font-semibold text-white" data-lang="processStep4">4. Monitoreo y Dominancia</h3>
                    <p class="text-sm text-slate-400" data-lang="processDesc4">Ajustamos y optimizamos para asegurar la dominancia del mercado.</p>
                </li>
            </ol>
            <button class="close-modal mt-6 bg-slate-600 text-slate-300 font-semibold py-2 px-4 rounded-lg w-full" data-lang="closeBtn">Cerrar</button>
        </div>
    </div>

    <div id="modal-contacto" class="modal-overlay">
        <div class="modal-content">
            <h2 class="text-2xl font-bold text-white mb-4" data-lang="contactModalTitle">Hablemos de su Práctica</h2>
            <p class="text-slate-400 mb-6 text-sm" data-lang="contactModalDesc">Complete el formulario para calificar para una Sesión Estratégica.</p>
            <form id="contactForm" action="https://formspree.io/f/mjkozprb" method="POST">
                <div class="space-y-4">
                    <input type="text" name="name" required placeholder="Su Nombre" class="w-full bg-slate-600 text-white p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none" data-lang-placeholder="formNamePlaceholder">
                    <input type="email" name="email" required placeholder="Su Email" class="w-full bg-slate-600 text-white p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none" data-lang-placeholder="formEmailPlaceholder">
                    <textarea name="message" required placeholder="Cuéntenos sobre su práctica médica..." rows="4" class="w-full bg-slate-600 text-white p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none" data-lang-placeholder="formMessagePlaceholder"></textarea>
                </div>
                <button type="submit" id="formSubmitBtn" class="btn-premium w-full mt-6"><span data-lang="formSubmitBtn">Enviar Mensaje</span></button>
                <p id="formStatus" class="text-center text-sm mt-4"></p>
            </form>
            <button class="close-modal mt-4 bg-slate-600 text-slate-300 font-semibold py-2 px-4 rounded-lg w-full" data-lang="closeBtn">Cerrar</button>
        </div>
    </div>

    <script>
        // Envolvemos todo en un IIFE (Immediately Invoked Function Expression) para encapsular el scope
        (() => {
            document.addEventListener('DOMContentLoaded', () => {

                const DOMElements = {
                    langEsBtn: document.getElementById('lang-es'),
                    langEnBtn: document.getElementById('lang-en'),
                    modalTriggers: document.querySelectorAll('[data-modal]'),
                    closeButtons: document.querySelectorAll('.close-modal'),
                    modalOverlays: document.querySelectorAll('.modal-overlay'),
                    saveContactBtn: document.getElementById('saveContact'),
                    contactForm: document.getElementById('contactForm'),
                    formSubmitBtn: document.getElementById('formSubmitBtn'),
                    formStatus: document.getElementById('formStatus'),
                };

                // 2. DATOS: Diccionario de Traducciones (Actualizado)
                const translations = {
                    es: {
                        studioName: "PixelArte Studio",
                        studioSlogan: "Dominancia de Mercado para Prácticas Médicas",
                        studioDesc: "Convertimos su reputación clínica en dominancia de mercado.",
                        emailBtn: "Email",
                        callBtn: "Llamar",
                        whatsappBtn: "WhatsApp",
                        servicesIcon: "Servicios",
                        portfolioIcon: "Casos de Éxito",
                        processIcon: "Nuestro Sistema",
                        contactIcon: "Inicia tu Proyecto",
                        saveIcon: "Guardar",
                        qrTitle: "Comparte mi Tarjeta",
                        qrText: "Escanea el QR para guardar o compartir mi perfil digital.",
                        closeBtn: "Cerrar",
                        servicesModalTitle: "Nuestro Sistema de Dominancia",
                        servicesModalDesc: "Aplicamos un sistema probado para prácticas médicas:",
                        service1Title: "Sistema de Dominancia de Mercado:",
                        service1Desc: "Convertimos su reputación en autoridad digital.",
                        service2Title: "Optimización de Flujo de Pacientes:",
                        service2Desc: "Sistemas integrados que atraen y retienen pacientes.",
                        service3Title: "Gestión de Reputación Clínica:",
                        service3Desc: "Reforzamos la confianza y las señales de autoridad online.",
                        portfolioModalTitle: "Casos de Éxito",
                        portfolio1Title: "Dr. Carlos Díaz Avelar",
                        portfolio1Desc: "Tarjeta Digital para profesional de la salud con sistema de citas.",
                        processModalTitle: "Nuestro Sistema",
                        processStep1: "1. Sesión Estratégica",
                        processDesc1: "Analizamos su práctica y definimos objetivos de dominancia.",
                        processStep2: "2. Análisis de Reputación",
                        processDesc2: "Evaluamos su huella digital y la de sus competidores.",
                        processStep3: "3. Implementación del Sistema",
                        processDesc3: "Desplegamos los activos digitales y el flujo de pacientes.",
                        processStep4: "4. Monitoreo y Dominancia",
                        processDesc4: "Ajustamos y optimizamos para asegurar la dominancia del mercado.",
                        contactModalTitle: "Hablemos de su Práctica",
                        contactModalDesc: "Complete el formulario para calificar para una Sesión Estratégica.",
                        formNamePlaceholder: "Su Nombre",
                        formEmailPlaceholder: "Su Email",
                        formMessagePlaceholder: "Cuéntenos sobre su práctica médica...",
                        formSubmitBtn: "Enviar Mensaje",
                    },
                    en: {
                        studioName: "PixelArte Studio",
                        studioSlogan: "Market Dominance for Medical Practices",
                        studioDesc: "We turn your clinical reputation into market dominance.",
                        emailBtn: "Email",
                        callBtn: "Call",
                        whatsappBtn: "WhatsApp",
                        servicesIcon: "Services",
                        portfolioIcon: "Success Stories",
                        processIcon: "Our System",
                        contactIcon: "Start your Project",
                        saveIcon: "Save",
                        qrTitle: "Share my Card",
                        qrText: "Scan the QR code to save or share my digital profile.",
                        closeBtn: "Close",
                        servicesModalTitle: "Our Dominance System",
                        servicesModalDesc: "We apply a proven system for medical practices:",
                        service1Title: "Market Dominance System:",
                        service1Desc: "We convert your reputation into digital authority.",
                        service2Title: "Patient Flow Optimization:",
                        service2Desc: "Integrated systems that attract and retain patients.",
                        service3Title: "Clinical Reputation Management:",
                        service3Desc: "We reinforce trust and online authority signals.",
                        portfolioModalTitle: "Success Stories",
                        portfolio1Title: "Dr. Carlos Díaz Avelar",
                        portfolio1Desc: "Digital card for a healthcare professional with an appointment system.",
                        processModalTitle: "Our System",
                        processStep1: "1. Strategy Session",
                        processDesc1: "We analyze your practice and define dominance goals.",
                        processStep2: "2. Reputation Analysis",
                        processDesc2: "We evaluate your digital footprint and that of your competitors.",
                        processStep3: "3. System Implementation",
                        processDesc3: "We deploy digital assets and the patient flow.",
                        processStep4: "4. Monitoring & Dominance",
                        processDesc4: "We adjust and optimize to ensure market dominance.",
                        contactModalTitle: "Let's Talk About Your Practice",
                        contactModalDesc: "Complete the form to qualify for a Strategy Session.",
                        formNamePlaceholder: "Your Name",
                        formEmailPlaceholder: "Your Email",
                        formMessagePlaceholder: "Tell us about your medical practice...",
                        formSubmitBtn: "Send Message",
                    }
                };
                
                let currentLang = 'es';

                // 3. LÓGICA DE NEGOCIO: Funciones Modulares

                function switchLanguage(lang) {
                    currentLang = lang;
                    document.documentElement.lang = lang;
                    
                    document.querySelectorAll('[data-lang]').forEach(el => {
                        const key = el.dataset.lang;
                        if (translations[lang][key]) {
                            el.textContent = translations[lang][key];
                        }
                    });
                    
                    document.querySelectorAll('[data-lang-placeholder]').forEach(el => {
                        const key = el.dataset.langPlaceholder;
                        if (translations[lang][key]) {
                            el.placeholder = translations[lang][key];
                        }
                    });

                    DOMElements.langEsBtn.classList.toggle('active', lang === 'es');
                    DOMElements.langEnBtn.classList.toggle('active', lang === 'en');
                }

                function setupLangSwitcher() {
                    DOMElements.langEsBtn.addEventListener('click', () => switchLanguage('es'));
                    DOMElements.langEnBtn.addEventListener('click', () => switchLanguage('en'));
                }

                function setupModals() {
                    const openModal = (modal) => modal.classList.add('is-visible');
                    const closeModal = (modal) => modal.classList.remove('is-visible');

                    DOMElements.modalTriggers.forEach(trigger => {
                        trigger.addEventListener('click', () => {
                            const modal = document.getElementById(trigger.dataset.modal);
                            if(modal) openModal(modal);
                        });
                    });

                    DOMElements.closeButtons.forEach(button => {
                        button.addEventListener('click', () => {
                            closeModal(button.closest('.modal-overlay'));
                        });
                    });

                    DOMElements.modalOverlays.forEach(overlay => {
                        overlay.addEventListener('click', (e) => {
                            if (e.target === overlay) closeModal(overlay);
                        });
                    });

                    document.addEventListener('keydown', (e) => {
                        if (e.key === "Escape") {
                            const visibleModal = document.querySelector('.modal-overlay.is-visible');
                            if (visibleModal) closeModal(visibleModal);
                        }
                    });
                }
                
                function setupVCard() {
                    const vCardData = `BEGIN:VCARD
VERSION:3.0
N:Studio;PixelArte;;;
FN:PixelArte Studio
ORG:PixelArte Studio
TITLE:Dominancia de Mercado para Prácticas Médicas
TEL;TYPE=WORK,VOICE:+523347211199
EMAIL:contacto.pixelarte.studio@gmail.com
URL:https://www.pixelartestudio.art/tarjeta-pixel.html
PHOTO;TYPE=PNG:https://raw.githubusercontent.com/CoreyG-WebDev/PixelArte-Vcard/main/profesionales.png
END:VCARD`;
                    
                    const blob = new Blob([vCardData], { type: 'text/vcard' });
                    const url = URL.createObjectURL(blob);
                    
                    DOMElements.saveContactBtn.setAttribute('href', url);
                    DOMElements.saveContactBtn.setAttribute('download', 'PixelArteStudio.vcf');
                }

                async function handleFormSubmit(e) {
                    e.preventDefault();
                    
                    // Ajuste para obtener los mensajes correctos
                    const statusMessages = translations[currentLang];
                    const { formSubmitBtn, formStatus, contactForm } = DOMElements;

                    // Ajuste para mensajes de envío
                    formStatus.textContent = statusMessages.formSubmitBtn === 'Enviar Mensaje' ? 'Enviando...' : 'Sending...';
                    formStatus.style.color = 'inherit';
                    formSubmitBtn.disabled = true;

                    const data = new FormData(e.target);
                    try {
                        const response = await fetch(e.target.action, {
                            method: contactForm.method,
                            body: data,
                            headers: { 'Accept': 'application/json' }
                        });

                        if (response.ok) {
                            formStatus.textContent = statusMessages.formSubmitBtn === 'Enviar Mensaje' ? '¡Gracias! Su mensaje ha sido enviado.' : 'Thank you! Your message has been sent.';
                            formStatus.style.color = '#22c55e'; // green-500
                            contactForm.reset();
                        } else {
                            throw new Error('Network response was not ok.');
                        }
                    } catch (error) {
                        formStatus.textContent = statusMessages.formSubmitBtn === 'Enviar Mensaje' ? 'Error. Intente de nuevo.' : 'Error. Please try again.';
                        formStatus.style.color = '#ef4444'; // red-500
                    } finally {
                        formSubmitBtn.disabled = false;
                    }
                }
                
                function setupContactForm() {
                    if (DOMElements.contactForm) {
                        DOMElements.contactForm.addEventListener("submit", handleFormSubmit);
                    }
                }

                // 4. INICIALIZACIÓN
                function init() {
                    setupLangSwitcher();
                    setupModals();
                    setupVCard();
                    setupContactForm();
                    // Ejecuta el idioma inicial para asegurar que todos los textos estén correctos.
                    switchLanguage(currentLang);
                }

                init();
            });
        })();
    </script>
</body>
</html>








