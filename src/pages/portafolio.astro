---
import Layout from '../layouts/Layout.astro';
import ProjectDetail from '../components/ProjectDetail.astro';

// ... (El bloque de datos de 'projectsData' y 'projects' no cambia) ...
const projectsData = [
    { 
        title: 'Sistema Web de Pacientes', 
        service: 'Aplicación Web a Medida', 
        mediaType: 'video',
        challenge: 'El Dr. Díaz necesitaba una forma eficiente de dar seguimiento a sus pacientes postoperatorios sin depender de llamadas o mensajes desorganizados, asegurando una recuperación óptima y una comunicación clara.',
        solution: 'Diseñamos y desarrollamos una aplicación web privada donde los pacientes inician sesión para acceder a un plan de recuperación personalizado. Incluye videos de ejercicios, indicaciones de medicamentos y un chat directo con el doctor.',
        result: 'Se redujo en un 70% el tiempo administrativo del doctor y se mejoró significativamente la adherencia de los pacientes a sus planes de recuperación, resultando en mejores resultados de salud.'
    },
    { 
        title: 'Tarjeta Digital Médica', 
        service: 'Identidad Digital', 
        mediaType: 'image',
        challenge: 'En congresos y eventos, conectar profesionalmente era un desafío. Las tarjetas de papel se perdían y no podían mostrar el trabajo multimedia (videos de cirugías, artículos) del doctor de forma efectiva.',
        solution: 'Creamos una tarjeta de presentación digital accesible a través de un código QR. La tarjeta no solo contiene su contacto, sino también una galería de videos, enlaces a sus publicaciones y perfiles profesionales.',
        result: 'La tarjeta digital se convirtió en su principal herramienta de networking, proyectando una imagen de innovación y permitiendo compartir su portafolio completo de forma instantánea y memorable.'
    },
    { 
        title: 'Tarjeta Digital Corporativa', 
        service: 'Herramienta para Ventas', 
        mediaType: 'image',
        challenge: 'El equipo de ventas de una empresa B2B necesitaba una forma unificada y moderna de presentarse, compartir recursos (PDFs, catálogos) y capturar leads de forma inmediata en reuniones y eventos.',
        solution: 'Desarrollamos una tarjeta digital corporativa personalizable para cada vendedor. La tarjeta incluye su información, enlaces a catálogos de productos y un formulario de contacto directo que notifica al equipo de ventas.',
        result: 'Se estandarizó la presentación del equipo de ventas, se eliminaron los costos de impresión de tarjetas y se incrementó la captura de leads en eventos en un 25% gracias al formulario integrado.'
    }
];

const projects = projectsData.map(project => {
    const slug = project.title.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[^a-z0-9 -]/g, "").replace(/\s+/g, '-');
    let href = '#';
    if (project.title === 'Tarjeta Digital Médica') { href = 'https://drcarlosdiaza.com/'; }
    else if (project.title === 'Tarjeta Digital Corporativa') { href = 'https://pixelartestudio.art/tarjeta-pixel.html'; }
    else if (project.mediaType === 'video') { href = `/images/${slug}.mp4`; }
    else { href = `/images/${slug}.webp`; }
    return { ...project, slug, href };
});
---

<Layout title="Portafolio - Pixelarte Studio">
    <div class="page-container">
        <section class="page-header">
            <h1>Casos de Éxito</h1>
            <p>No solo creamos sitios web. Creamos soluciones que impulsan resultados.</p>
        </section>

        {projects.map(project => (
            <ProjectDetail 
                project={project}
                challenge={project.challenge}
                solution={project.solution}
                result={project.result}
            />
        ))}
    </div>
</Layout>

<style>
    .page-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        background-color: var(--color-fondo-oscuro); /* <-- CORRECCIÓN PRINCIPAL */
    }
    .page-header {
        text-align: center;
        padding: 4rem 0;
        border-bottom: 1px solid var(--color-borde);
    }
    .page-header h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        font-family: 'Playfair Display', serif;
        color: var(--color-texto-claro); /* Se mantiene claro por el fondo oscuro */
    }
    .page-header p {
        font-size: 1.25rem;
        color: #94a3b8; /* Se mantiene claro por el fondo oscuro */
        max-width: 600px;
        margin: 0 auto;
    }
</style>



































